(this.webpackJsonpname=this.webpackJsonpname||[]).push([[0],{11:function(e,t,a){e.exports={searchForm:"SearchBar_searchForm__bTf69",button:"SearchBar_button__zjQ9i",label:"SearchBar_label__3cqEl",input:"SearchBar_input__35An9",searchBar:"SearchBar_searchBar__1u-sB"}},16:function(e,t,a){e.exports={image:"ImageGalleryItem_image__32_jr",item:"ImageGalleryItem_item__26F25"}},17:function(e,t,a){e.exports={overlay:"Modal_overlay__2GjdW",modal:"Modal_modal__P3_V5"}},18:function(e,t,a){e.exports={button:"ButtonUp_button__3ZzUV",visible:"ButtonUp_visible__1m1Ff"}},30:function(e,t,a){e.exports={gallery:"ImageGallery_gallery__gboaM"}},31:function(e,t,a){e.exports={button:"Button_button__3QF_k"}},33:function(e,t,a){e.exports={grid:"App_grid__3DnSg"}},80:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),s=a.n(o),c=a(2),i=a(3),l=a(6),u=a(5),h=a(8),d=(a(38),a(11)),p=a.n(d),m=a(1),b=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={query:""},e.handleChange=function(t){var a=t.currentTarget.value;return e.setState({query:a})},e.handleSubmit=function(t){if(t.preventDefault(),""!==e.state.query.trim()){var a=e.state.query.trim().toLowerCase();e.props.onSubmit(a),e.setState({query:""}),t.currentTarget.reset()}else h.b.info("please type a query")},e}return Object(i.a)(a,[{key:"render",value:function(){var e=p.a.searchBar,t=p.a.searchForm,a=p.a.button,n=p.a.label,r=p.a.input;return Object(m.jsx)("header",{className:e,children:Object(m.jsxs)("form",{className:t,onSubmit:this.handleSubmit,children:[Object(m.jsx)("button",{type:"submit",className:a,onSubmit:this.handleSubmit,children:Object(m.jsx)("span",{className:n,children:"Search"})}),Object(m.jsx)("input",{className:r,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:this.handleChange})]})})}}]),a}(n.Component),j=b,g=a(10),f=a.n(g),v=a(19),y=a(14),O=a(28),w=a.n(O),x=function(){function e(t,a){Object(c.a)(this,e),this.query="",this.page=1,this.key=t,this.baseUrl=a}return Object(i.a)(e,[{key:"fetchData",value:function(){var e=Object(y.a)(f.a.mark((function e(){var t,a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URLSearchParams({q:this.query,page:this.page,key:this.key}),a="".concat(this.baseUrl,"image_type=photo&orientation=horizontal&per_page=12&").concat(t),e.next=4,w.a.get(a);case 4:return n=e.sent,e.abrupt("return",n.data.hits);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resetPage",value:function(){this.page=1}},{key:"incrementPage",value:function(){this.page+=1}},{key:"searchQuery",get:function(){return this.searchQuery},set:function(e){this.query=e}}]),e}(),k=(a(59),a(29)),_=a.n(k),S=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(m.jsx)(_.a,{type:"Oval",color:"#da5f01",height:80,width:80,style:{margin:"0 auto"}})}}]),a}(r.a.Component),B=a.p+"static/media/error-img.64aecb11.png";function C(){return Object(m.jsx)("div",{style:{paddingTop:"100px"},children:Object(m.jsx)("img",{src:B,alt:"welcome",width:600,style:{margin:"0 auto"}})})}var I=a.p+"static/media/welcome-img.60dcdefa.png";function M(){return Object(m.jsx)("div",{style:{paddingTop:"100px"},children:Object(m.jsx)("img",{src:I,alt:"welcome",width:800,style:{margin:"0 auto"}})})}var N=a(16),q=a.n(N),L=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.image,t=e.webformatURL,a=e.tags,n=q.a.image,r=q.a.item;return Object(m.jsx)("li",{className:r,children:Object(m.jsx)("img",{src:t,alt:a,className:n})})}}]),a}(n.Component),U=L,G=a(30),T=a.n(G),E=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.trackScroll;window.addEventListener("scroll",e)}},{key:"componentWillUnmount",value:function(){var e=this.props.trackScroll;window.removeEventListener("scroll",e)}},{key:"render",value:function(){var e=this.props.images,t=T.a.gallery;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("ul",{className:t,onClick:this.props.handleOpenModal,children:e&&e.map((function(e){return Object(m.jsx)(U,{image:e},e.id)}))})})}}]),a}(n.Component),A=a(31),P=a.n(A),D=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.onClick,t=P.a.button;return Object(m.jsx)("button",{type:"button",className:t,onClick:e,children:Object(m.jsx)("span",{children:"Show more"})})}}]),a}(n.Component),F=a(17),Q=a.n(F),R=document.querySelector("#modal-root"),V=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleGalleryNav=function(t){var a=t.code,n=e.props,r=n.imgIdx,o=n.closeModal,s=n.handleGalleryNav;switch(a){case"Escape":o();break;case"ArrowRight":s(r+1);break;case"ArrowLeft":s(r-1);break;default:h.b.info("Press ESC to exit")}},e.handleBackdropClick=function(t){var a=t.target,n=t.currentTarget,r=e.props.closeModal;a===n&&r()},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleGalleryNav)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleGalleryNav)}},{key:"render",value:function(){var e=Q.a.modal,t=Q.a.overlay,a=this.props.children;return Object(o.createPortal)(Object(m.jsx)("div",{className:t,onClick:this.handleBackdropClick,children:Object(m.jsx)("div",{className:e,children:a})}),R)}}]),a}(n.Component),z=V,W=a(32),H=a.n(W),J=a.p+"static/media/up-arrow.79fd32b5.png",Y=a(18),Z=a.n(Y),K=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.onClick,a=e.isVisible,n=Z.a.button,r=Z.a.visible;return Object(m.jsx)("button",{type:"button",className:a?H()(n,r):n,onClick:t,children:Object(m.jsx)("img",{src:J,alt:"go up"})})}}]),a}(n.Component),X=new x("22995461-dcfca2d4906f7ecb85a6d619d","https://pixabay.com/api/?"),$=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={images:[],error:null,showModal:!1,showGoUpBtn:!1,showLoadMoreBtn:!1,showLoader:!1,activeIdx:null,status:"idle"},e.resetSearchParams=function(){var t=e.props.query;X.searchQuery=t,X.resetPage(),e.setState({images:[]})},e.showImages=Object(y.a)(f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({showLoader:!0}),t.prev=1,t.next=4,X.fetchData();case 4:if(0!==(a=t.sent).length){t.next=9;break}return h.b.warning("Sorry, we couldn't find anything"),e.setState({status:"idle"}),t.abrupt("return");case 9:e.setState((function(e){var t=e.images;return{images:[].concat(Object(v.a)(t),Object(v.a)(a)),status:"resolved",showLoader:!1}})),X.incrementPage(),e.state.images.length>12&&e.scrollDown(),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(1),e.setState({error:t.t0,status:"rejected"}),h.b.error("Something went wrong...(");case 18:case"end":return t.stop()}}),t,null,[[1,14]])}))),e.scrollDown=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},e.trackScroll=function(){var t=window.pageYOffset,a=document.documentElement.clientHeight;t>a&&e.setState({showGoUpBtn:!0}),t<a&&e.setState({showGoUpBtn:!1})},e.goBackToTop=function(){window.pageYOffset>0&&(window.scrollBy(0,-80),setTimeout(e.goBackToTop,0))},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e.handleOpenModal=function(t){var a=t.target;"IMG"===a.nodeName&&(e.findActiveIdx(a.src),e.toggleModal())},e.findActiveIdx=function(t){e.state.images.forEach((function(a,n){a.webformatURL===t&&e.setState({activeIdx:n})}))},e.showNextImage=function(t){var a=e.state.images;t===a.length?e.setState({activeIdx:0}):-1===t?e.setState({activeIdx:a.length-1}):e.setState({activeIdx:t})},e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this.props.query,n=this.state.images;e.query!==a&&(this.resetSearchParams(),this.showImages()),t.images!==n&&n&&n.length>=12&&this.setState({showLoadMoreBtn:!0}),t.images!==n&&n&&n.length<12&&this.setState({showLoadMoreBtn:!1})}},{key:"render",value:function(){var e=this.state,t=e.status,a=e.images,n=e.showModal,r=e.activeIdx,o=e.showGoUpBtn,s=e.showLoadMoreBtn,c=e.showLoader;return"idle"===t?Object(m.jsx)(M,{}):"rejected"===t?Object(m.jsx)(C,{}):"resolved"===t?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(E,{images:a,showImages:this.showImages,handleOpenModal:this.handleOpenModal,trackScroll:this.trackScroll}),c&&Object(m.jsx)(S,{}),s&&Object(m.jsx)(D,{onClick:this.showImages}),Object(m.jsx)(K,{onClick:this.goBackToTop,isVisible:o}),n&&Object(m.jsx)(z,{imgIdx:r,closeModal:this.toggleModal,handleGalleryNav:this.showNextImage,children:Object(m.jsx)("img",{src:a[r].largeImageURL,alt:a[r].tags,width:1e3})})]}):void 0}}]),a}(n.Component),ee=$,te=a(33),ae=a.n(te),ne=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={query:""},e.setQuery=function(t){e.setState({query:t})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=ae.a.grid;return Object(m.jsxs)("div",{className:e,children:[Object(m.jsx)(j,{onSubmit:this.setQuery}),Object(m.jsx)(ee,{query:this.state.query}),Object(m.jsx)(h.a,{autoClose:3e3,theme:"dark"})]})}}]),a}(n.Component),re=ne;a(80);s.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(re,{})}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.56ec307e.chunk.js.map