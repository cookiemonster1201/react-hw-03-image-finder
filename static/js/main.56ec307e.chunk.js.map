{"version":3,"sources":["components/SearchBar/SearchBar.module.css","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ButtonUp/ButtonUp.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","App.module.css","components/SearchBar/SearchBar.jsx","sevices/image-search-api.js","components/ImageGallery/Loader/Loader.jsx","components/ImageGallery/ErrorView/error-img.png","components/ImageGallery/ErrorView/ErrorView.jsx","components/ImageGallery/IdleView/welcome-img.png","components/ImageGallery/IdleView/IdleView.jsx","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGalleryList/ImageGalleryList.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/ButtonUp/up-arrow.png","components/ButtonUp/ButtonUp.jsx","components/ImageGallery/ImageGallery.jsx","App.jsx","index.js"],"names":["module","exports","SearchBar","state","query","handleChange","value","currentTarget","setState","handleSubmit","e","preventDefault","trim","normalizedQuery","toLowerCase","props","onSubmit","reset","toast","info","searchBar","s","searchForm","button","label","input","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageSearchApi","key","url","page","baseUrl","a","searchParams","URLSearchParams","q","axios","get","response","data","hits","searchQuery","newQuery","App","color","height","width","style","margin","React","ErrorView","paddingTop","src","errorImg","alt","IdleView","welcomeImg","ImageGalleryItem","image","webformatURL","tags","item","ImageGalleryList","trackScroll","window","addEventListener","removeEventListener","images","gallery","onClick","handleOpenModal","map","id","Button","modalRoot","document","querySelector","Modal","handleGalleryNav","code","imgIdx","closeModal","handleBackdropClick","target","modal","overlay","children","createPortal","ButtonUp","isVisible","visible","classNames","buttonUp","imageSearchApi","ImageGallery","error","showModal","showGoUpBtn","showLoadMoreBtn","showLoader","activeIdx","status","resetSearchParams","resetPage","showImages","fetchData","fetchedImages","length","warning","incrementPage","scrollDown","scrollTo","top","documentElement","scrollHeight","behavior","scrolled","pageYOffset","coords","clientHeight","goBackToTop","scrollBy","setTimeout","toggleModal","nodeName","findActiveIdx","source","forEach","idx","showNextImage","nextIdx","prevProps","prevState","largeImageURL","setQuery","grid","autoClose","theme","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.56ec307e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchBar_searchForm__bTf69\",\"button\":\"SearchBar_button__zjQ9i\",\"label\":\"SearchBar_label__3cqEl\",\"input\":\"SearchBar_input__35An9\",\"searchBar\":\"SearchBar_searchBar__1u-sB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"ImageGalleryItem_image__32_jr\",\"item\":\"ImageGalleryItem_item__26F25\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2GjdW\",\"modal\":\"Modal_modal__P3_V5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"ButtonUp_button__3ZzUV\",\"visible\":\"ButtonUp_visible__1m1Ff\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__gboaM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3QF_k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"grid\":\"App_grid__3DnSg\"};","import { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport PropTypes from 'prop-types';\nimport s from 'components/SearchBar/SearchBar.module.css';\n\nclass SearchBar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n  state = {\n    query: '',\n  };\n\n  handleChange = ({ currentTarget: { value } }) =>\n    this.setState({ query: value });\n\n  handleSubmit = e => {\n    e.preventDefault();\n    if (this.state.query.trim() === '') {\n      toast.info('please type a query');\n      return;\n    }\n\n    const normalizedQuery = this.state.query.trim().toLowerCase();\n    this.props.onSubmit(normalizedQuery);\n    this.setState({ query: '' });\n    e.currentTarget.reset();\n  };\n\n  render() {\n    const { searchBar, searchForm, button, label, input } = s;\n    return (\n      <header className={searchBar}>\n        <form className={searchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={button} onSubmit={this.handleSubmit}>\n            <span className={label}>Search</span>\n          </button>\n\n          <input\n            className={input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default SearchBar;\n","import axios from 'axios';\n\nexport default class ImageSearchApi {\n  constructor(key, url) {\n    this.query = '';\n    this.page = 1;\n    this.key = key;\n    this.baseUrl = url;\n  }\n\n  async fetchData() {\n    const searchParams = new URLSearchParams({\n      q: this.query,\n      page: this.page,\n      key: this.key,\n    });\n    const url = `${this.baseUrl}image_type=photo&orientation=horizontal&per_page=12&${searchParams}`;\n    const response = await axios.get(url);\n    return response.data.hits;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  get searchQuery() {\n    return this.searchQuery;\n  }\n\n  set searchQuery(newQuery) {\n    this.query = newQuery;\n  }\n}\n","import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport React from 'react';\nimport Loader from 'react-loader-spinner';\n\nexport default class App extends React.Component {\n  render() {\n    return (\n      <Loader\n        type=\"Oval\"\n        color=\"#da5f01\"\n        height={80}\n        width={80}\n        style={{ margin: '0 auto' }}\n      />\n    );\n  }\n}\n","export default __webpack_public_path__ + \"static/media/error-img.64aecb11.png\";","import errorImg from 'components/ImageGallery/ErrorView/error-img.png';\n\nexport default function ErrorView() {\n  return (\n    <div style={{ paddingTop: '100px' }}>\n      <img\n        src={errorImg}\n        alt=\"welcome\"\n        width={600}\n        style={{ margin: '0 auto' }}\n      />\n    </div>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/welcome-img.60dcdefa.png\";","import welcomeImg from 'components/ImageGallery/IdleView/welcome-img.png';\n\nexport default function IdleView() {\n  return (\n    <div style={{ paddingTop: '100px' }}>\n      <img\n        src={welcomeImg}\n        alt=\"welcome\"\n        width={800}\n        style={{ margin: '0 auto' }}\n      />\n    </div>\n  );\n}\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport s from 'components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css';\n\nclass ImageGalleryItem extends Component {\n  static propTypes = {\n    image: PropTypes.shape({\n      webformatURL: PropTypes.string.isRequired,\n      tags: PropTypes.string.isRequired,\n    }).isRequired,\n  };\n  render() {\n    const { webformatURL, tags } = this.props.image;\n    const { image, item } = s;\n    return (\n      <li className={item}>\n        <img src={webformatURL} alt={tags} className={image} />\n      </li>\n    );\n  }\n}\n\nexport default ImageGalleryItem;\n","import { Component } from 'react';\nimport ImageGalleryItem from 'components/ImageGallery/ImageGalleryItem';\nimport s from 'components/ImageGallery/ImageGallery.module.css';\n\nimport PropTypes from 'prop-types';\nexport default class ImageGalleryList extends Component {\n  static propTypes = {\n    images: PropTypes.arrayOf(PropTypes.shape).isRequired,\n    showImages: PropTypes.func.isRequired,\n    handleOpenModal: PropTypes.func.isRequired,\n  };\n\n  componentDidMount() {\n    const { trackScroll } = this.props;\n    window.addEventListener('scroll', trackScroll);\n  }\n\n  componentWillUnmount() {\n    const { trackScroll } = this.props;\n    window.removeEventListener('scroll', trackScroll);\n  }\n\n  render() {\n    const { images } = this.props;\n    const { gallery } = s;\n    return (\n      <>\n        <ul className={gallery} onClick={this.props.handleOpenModal}>\n          {images &&\n            images.map(image => (\n             \n                <ImageGalleryItem key={image.id} image={image} />\n       \n            ))}\n        </ul>\n      </>\n    );\n  }\n}\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport s from 'components/Button/Button.module.css';\n\nexport default class Button extends Component {\n  static propTypes = {\n    onClick: PropTypes.func.isRequired,\n  };\n\n  render() {\n    const { onClick } = this.props;\n    const { button } = s;\n    return (\n      <button type=\"button\" className={button} onClick={onClick}>\n        <span>Show more</span>\n      </button>\n    );\n  }\n}\n","import { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nimport s from 'components/Modal/Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  static propTypes = {\n    imgIdx: PropTypes.number.isRequired,\n    closeModal: PropTypes.func.isRequired,\n    handleGalleryNav: PropTypes.func.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleGalleryNav);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleGalleryNav);\n  }\n\n  handleGalleryNav = ({ code }) => {\n    const { imgIdx, closeModal, handleGalleryNav } = this.props;\n\n    switch (code) {\n      case 'Escape':\n        closeModal();\n        break;\n\n      case 'ArrowRight':\n        handleGalleryNav(imgIdx + 1);\n        break;\n\n      case 'ArrowLeft':\n        handleGalleryNav(imgIdx - 1);\n        break;\n\n      default:\n        toast.info('Press ESC to exit');\n    }\n  };\n\n  handleBackdropClick = ({ target, currentTarget }) => {\n    const { closeModal } = this.props;\n    if (target === currentTarget) {\n      closeModal();\n    }\n  };\n\n  render() {\n    const { modal, overlay } = s;\n    const { children } = this.props;\n\n    return createPortal(\n      <div className={overlay} onClick={this.handleBackdropClick}>\n        <div className={modal}>{children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n","export default __webpack_public_path__ + \"static/media/up-arrow.79fd32b5.png\";","import { Component } from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport buttonUp from './up-arrow.png';\nimport s from 'components/ButtonUp/ButtonUp.module.css';\n\nexport default class ButtonUp extends Component {\n  static propTypes = {\n    isVisible: PropTypes.bool.isRequired,\n    onClick: PropTypes.func.isRequired,\n  };\n\n  render() {\n    const { onClick, isVisible } = this.props;\n    const { button, visible } = s;\n    return (\n      <button\n        type=\"button\"\n        className={isVisible ? classNames(button, visible) : button}\n        onClick={onClick}\n      >\n        <img src={buttonUp} alt=\"go up\" />\n      </button>\n    );\n  }\n}\n","import { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport PropTypes from 'prop-types';\n\nimport ImageSearchApi from 'sevices/image-search-api';\nimport Loader from 'components/ImageGallery/Loader';\nimport ErrorView from 'components/ImageGallery/ErrorView';\nimport IdleView from 'components/ImageGallery/IdleView';\nimport ImageGalleryList from 'components/ImageGallery/ImageGalleryList/ImageGalleryList';\nimport Button from 'components/Button';\nimport Modal from 'components/Modal';\nimport ButtonUp from 'components/ButtonUp/ButtonUp';\n\nconst KEY = '22995461-dcfca2d4906f7ecb85a6d619d';\nconst BASE_URL = 'https://pixabay.com/api/?';\nconst imageSearchApi = new ImageSearchApi(KEY, BASE_URL);\n\nclass ImageGallery extends Component {\n  static propTypes = {\n    query: PropTypes.string.isRequired,\n  };\n\n  state = {\n    images: [],\n    error: null,\n    showModal: false,\n    showGoUpBtn: false,\n    showLoadMoreBtn: false,\n    showLoader: false,\n    activeIdx: null,\n    status: 'idle',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query } = this.props;\n    const { images } = this.state;\n    if (prevProps.query !== query) {\n      this.resetSearchParams();\n      this.showImages();\n    }\n\n    if (prevState.images !== images && images && images.length >= 12) {\n      this.setState({ showLoadMoreBtn: true });\n    }\n    if (prevState.images !== images && images && images.length < 12) {\n      this.setState({ showLoadMoreBtn: false });\n    }\n  }\n\n  resetSearchParams = () => {\n    const { query } = this.props;\n    imageSearchApi.searchQuery = query;\n    imageSearchApi.resetPage();\n    this.setState({ images: [] });\n  };\n\n  showImages = async () => {\n    this.setState({ showLoader: true });\n\n    try {\n      const fetchedImages = await imageSearchApi.fetchData();\n\n      if (fetchedImages.length === 0) {\n        toast.warning(\"Sorry, we couldn't find anything\");\n        this.setState({ status: 'idle' });\n        return;\n      }\n\n      this.setState(({ images }) => {\n        return {\n          images: [...images, ...fetchedImages],\n          status: 'resolved',\n          showLoader: false,\n        };\n      });\n\n      imageSearchApi.incrementPage();\n\n      if (this.state.images.length > 12) {\n        this.scrollDown();\n      }\n    } catch (error) {\n      this.setState({ error, status: 'rejected' });\n      toast.error('Something went wrong...(');\n    }\n  };\n\n  scrollDown = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  trackScroll = () => {\n    let scrolled = window.pageYOffset;\n    let coords = document.documentElement.clientHeight;\n\n    if (scrolled > coords) {\n      this.setState({ showGoUpBtn: true });\n    }\n    if (scrolled < coords) {\n      this.setState({ showGoUpBtn: false });\n    }\n  };\n\n  goBackToTop = () => {\n    if (window.pageYOffset > 0) {\n      window.scrollBy(0, -80);\n      setTimeout(this.goBackToTop, 0);\n    }\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  handleOpenModal = ({ target }) => {\n    if (target.nodeName !== 'IMG') {\n      return;\n    }\n    this.findActiveIdx(target.src);\n    this.toggleModal();\n  };\n\n  findActiveIdx = source => {\n    const { images } = this.state;\n    images.forEach(({ webformatURL }, idx) => {\n      if (webformatURL === source) {\n        this.setState({ activeIdx: idx });\n      }\n    });\n  };\n\n  showNextImage = nextIdx => {\n    const { images } = this.state;\n    if (nextIdx === images.length) {\n      this.setState({ activeIdx: 0 });\n    } else if (nextIdx === -1) {\n      this.setState({ activeIdx: images.length - 1 });\n    } else {\n      this.setState({ activeIdx: nextIdx });\n    }\n  };\n\n  render() {\n    const {\n      status,\n      images,\n      showModal,\n      activeIdx,\n      showGoUpBtn,\n      showLoadMoreBtn,\n      showLoader,\n    } = this.state;\n\n    if (status === 'idle') {\n      return <IdleView />;\n    }\n\n    if (status === 'rejected') {\n      return <ErrorView />;\n    }\n\n    if (status === 'resolved') {\n      return (\n        <>\n          <ImageGalleryList\n            images={images}\n            showImages={this.showImages}\n            handleOpenModal={this.handleOpenModal}\n            trackScroll={this.trackScroll}\n          />\n          {showLoader && <Loader />}\n          {showLoadMoreBtn && <Button onClick={this.showImages} />}\n\n          {<ButtonUp onClick={this.goBackToTop} isVisible={showGoUpBtn} />}\n          {showModal && (\n            <Modal\n              imgIdx={activeIdx}\n              closeModal={this.toggleModal}\n              handleGalleryNav={this.showNextImage}\n            >\n              <img\n                src={images[activeIdx].largeImageURL}\n                alt={images[activeIdx].tags}\n                width={1000}\n              />\n            </Modal>\n          )}\n        </>\n      );\n    }\n  }\n}\n\nexport default ImageGallery;\n","// const KEY = '22995461-dcfca2d4906f7ecb85a6d619d';\nimport { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport SearchBar from 'components/SearchBar';\nimport ImageGallery from 'components/ImageGallery';\nimport s from './App.module.css';\n\nclass App extends Component {\n  state = {\n    query: '',\n  };\n\n  setQuery = query => {\n    this.setState({ query });\n  };\n\n  render() {\n    const {grid} = s;\n    return (\n      <div className={grid}>\n        <SearchBar onSubmit={this.setQuery} />\n        <ImageGallery query={this.state.query} />\n        <ToastContainer autoClose={3000} theme=\"dark\" />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App.jsx';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}